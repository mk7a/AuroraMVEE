cmake_minimum_required(VERSION 3.24)
project(MVEE C)
set(CMAKE_C_STANDARD 17)

add_definitions(-D_GNU_SOURCE)

add_executable(MVEE Monitor/src/monitor.c Monitor/src/sys/syscall_util.h Monitor/src/monitor.h Monitor/src/sys/read.c Monitor/src/sys/read.h Monitor/src/sys/close.c Monitor/src/sys/close.h Monitor/src/sys/mprotect.c Monitor/src/sys/mprotect.h Monitor/src/sys/brk.c Monitor/src/sys/brk.h Monitor/src/sys/access.c Monitor/src/sys/access.h Monitor/src/sys/arch_prctl.c Monitor/src/sys/arch_prctl.h Monitor/src/sys/set_tid_address.c Monitor/src/sys/set_tid_address.h Monitor/src/sys/fadvise64.c Monitor/src/sys/fadvise64.h Monitor/src/sys/openat.c Monitor/src/sys/openat.h Monitor/src/sys/newfstatat.c Monitor/src/sys/newfstatat.h Monitor/src/sys/set_robust_list.c Monitor/src/sys/set_robust_list.h Monitor/src/sys/prlimit64.c Monitor/src/sys/prlimit64.h Monitor/src/sys/getrandom.c Monitor/src/sys/getrandom.h Monitor/src/sys/rseq.c Monitor/src/sys/rseq.h Monitor/src/sys/syscall_executors.h Monitor/src/sys/mmap.c Monitor/src/sys/mmap.h Monitor/src/variant.c Monitor/src/variant.h Monitor/src/sys/write.c Monitor/src/sys/write.h Monitor/src/sys/pread64.c Monitor/src/sys/pread64.h Monitor/src/sys/munmap.c Monitor/src/sys/munmap.h Monitor/src/mappings.c Monitor/src/mappings.h Monitor/src/security_manager.c Monitor/src/security_manager.h Monitor/src/sys/exit_group.c Monitor/src/sys/exit_group.h Monitor/src/debug.h Monitor/src/sys/utimensat.c Monitor/src/sys/utimensat.h Monitor/src/sys/rt_sigprocmask.c Monitor/src/sys/rt_sigprocmask.h Monitor/src/sys/rt_sigaction.c Monitor/src/sys/rt_sigaction.h Monitor/src/sys/unlink.c Monitor/src/sys/unlink.h Monitor/src/sys/fchown.c Monitor/src/sys/fchown.h Monitor/src/sys/fchmod.c Monitor/src/sys/fchmod.h Monitor/src/sys/lseek.c Monitor/src/sys/lseek.h Monitor/src/sys/getcwd.c Monitor/src/sys/getcwd.h Monitor/src/sys/getpid.c Monitor/src/sys/getpid.h Monitor/src/sys/chdir.c Monitor/src/sys/chdir.h Monitor/src/sys/socket.c Monitor/src/sys/socket.h Monitor/src/sys/setsockopt.c Monitor/src/sys/setsockopt.h Monitor/src/sys/bind.c Monitor/src/sys/bind.h Monitor/src/sys/listen.c Monitor/src/sys/listen.h Monitor/src/sys/accept4.c Monitor/src/sys/accept4.h Monitor/src/sys/poll.c Monitor/src/sys/poll.h Monitor/src/sys/shutdown.c Monitor/src/sys/shutdown.h Monitor/src/sys/getsockname.c Monitor/src/sys/getsockname.h Monitor/src/sys/pselect6.c Monitor/src/sys/pselect6.h Monitor/src/compile_options.h)
target_link_libraries(MVEE PRIVATE cap)

